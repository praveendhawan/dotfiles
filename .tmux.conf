# change prefix to backtick
unbind-key C-b
set-option -g prefix `
bind-key ` send-prefix

# source config file
# reload tmux with new config
# press prefix and then r
bind-key r source-file ~/.tmux.conf \; display "Reloaded!!!"

# Just Press ctrl + r without prefix to source conf
# -n option - specifies that this key binding doesn't require pressing prefix
bind-key -n C-r source-file ~/.tmux.conf \; display "Reloaded!!!"

# allow mouse scroll
set -g mouse on

# splitting
unbind-key %
bind-key | split-window -h
unbind-key '"'
bind-key - split-window -v

# colon :
bind-key : command-prompt

# set 256-colors
# for this to work properly we need to set TERM in our bashrc also
# export TERM=xterm-256color
set -g default-terminal "screen-256color"

# use vi key bindings in copy mode
setw -g mode-keys vi

# Set base index for window to 1
set -g base-index 1

# Set base index for panes to 1
setw -g pane-base-index 1

# Status line left side to show Session:window:pane
set -g status-left-length 40
set -g status-left "#[fg=black]Session: #S #[fg=red] Window: #I #[fg=red] Pane: #P"

# Status line right side -  31-Oct 13:37
set -g status-right "#[fg=red]%d %b %R"

# Update the status line every sixty seconds
set -g status-interval 60

# Center the window list in the status line
set -g status-justify centre

# enable activity alerts
setw -g monitor-activity on
set -g visual-activity on

# Copy Key Bindings
# Press Prefix + ESC to enter copy mode
unbind-key [
bind-key Escape copy-mode

# use vim like keys for copy
bind-key -T copy-mode-vi v send -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "pbcopy"

# Do not copy selection and cancel copy mode on Mouse drag end event
# To Exit Copy mode -
# Press Enter with copying the selected text
# Press q without copying
unbind -T copy-mode-vi MouseDragEnd1Pane
